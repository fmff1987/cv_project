<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions">
<h:head>
	<title>CV Management - ADM</title>
	<h:outputStylesheet library="css" name="../resources/CSS/style.css" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<script type="text/javascript">
            PrimeFaces.locales['pt'] = {
                closeText: 'Fechar',
                prevText: 'Anterior',
                nextText: 'Próximo',
                currentText: 'Começo',
                monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
                monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
                dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'],
                dayNamesMin: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
                weekHeader: 'Semana',
                firstDay: 0,
                isRTL: false,
                showMonthAfterYear: false,
                yearSuffix: '',
                timeOnlyTitle: 'Só Horas',
                timeText: 'Tempo',
                hourText: 'Hora',
                minuteText: 'Minuto',
                secondText: 'Segundo',
                ampm: false,
                month: 'Mês',
                week: 'Semana',
                day: 'Dia',
                allDayText: 'Todo o Dia'
            }
        </script>
</h:head>
<h:body>
	<h:form id="form">

		<!-- MENU -->
		<p:menubar>
			<p:submenu label="Manager">
				<p:menuitem value=" Criar / Editar" icon="ui-icon-disk"
					url="createManager.xhtml" />

			</p:submenu>

			<p:submenu label="Recrutador">
				<p:menuitem value=" Criar / Editar" icon="ui-icon-disk"
					url="createRecruiter.xhtml" />
			</p:submenu>

			<p:submenu label="Pedidos">
				<p:menuitem value="Criar Pedidos" icon="ui-icon-disk"
					url="manager.xhtml" />
			</p:submenu>
		</p:menubar>
		<h1>Pagina Admin</h1>

		<p:growl id="msgs" showDetail="true" />
		<!-- FILTRO CONSULTA -->
		<p:tabView>
			<p:tab title="Pedidos por Concluir">

				<p:dataTable id="RequestList" var="req"
					value="#{ReqBean.requestList}" editable="true"
					style="margin-bottom:20px" rows="10" paginator="true"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="5,10,15">

					<f:facet name="header">
                            Lista de pedidos
                        </f:facet>
					<p:ajax event="rowEdit" listener="#{ReqBean.onRowEdit}"
						update=":form:msgs" />
					<p:ajax event="rowEditCancel" listener="#{ReqBean.onRowCancel}"
						update=":form:msgs" />


					<p:column headerText="Manager" filterBy="#{req.manager.name}"
						filterMatchMode="contains">
						<h:outputText value="#{req.manager.name}" />

					</p:column>
					<p:column headerText="Recrutas">
						<p:cellEditor>
							<f:facet name="output">
								<h:outputText value="#{req.recruiter.name}" />
							</f:facet>
							<f:facet name="input">
								<h:selectOneMenu value="#{req.recruiter}" style="width:100%"
									converter="omnifaces.SelectItemsConverter">
									<f:selectItems value="#{RecBean.recruiterList}" var="recrutas"
										itemLabel="#{recrutas.name}" itemValue="#{recrutas}" />
								</h:selectOneMenu>
							</f:facet>

						</p:cellEditor>

					</p:column>



					<p:column headerText="Candidato" filterBy="#{req.candidateName}" filterMatchMode="contains">
						<!-- nao vai ter Filtro acho eu-->
						<p:cellEditor>
							<f:facet name="output">
								<h:outputText value="#{req.candidateName}" />
							</f:facet>
							<f:facet name="input">
								<p:inputText value="#{req.candidateName}" style="width:100%" />
							</f:facet>
						</p:cellEditor>
					</p:column>

					<p:column headerText="Email" >
						<p:cellEditor>
							<f:facet name="output">
								<h:outputText value="#{req.candidateEmail}" style="text-align:center;"/>
							</f:facet>
							<f:facet name="input">
								<p:inputText id="email" value="#{req.candidateEmail}"
									style="width:100%" />
							</f:facet>
						</p:cellEditor>
					</p:column>

					<p:column headerText="Data Limite" sortBy="#{req.deadline}">
						<f:facet name="filter">
							<p:outputLabel for="datetime" />
							<p:calendar id="datetime" pattern="dd/MM/yyyy HH:00" locale="pt" />
						</f:facet>

						<p:cellEditor>
							<f:facet name="output">
								<h:outputText value="#{req.deadline}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:00" />
								</h:outputText>
							</f:facet>
							<f:facet name="input">
								<p:calendar locale="pt" styleClass="right"
									value="#{req.deadline}" id="byDateButtonCalTo" mode="popup"
									maxdate="#{Cal.todayDate}" pattern="dd/MM/yyyy HH:00"
									stepHour="1" stepMinute="30" />
							</f:facet>
						</p:cellEditor>
						<h:outputText value="" />
					</p:column>

					<p:column headerText="CV Original">
						<p:commandButton value="Download" ajax="false"
							onclick="PrimeFaces.monitorDownload(start, stop);"
							icon="ui-icon-arrowthick-1-s">
							<p:fileDownload value="" />
						</p:commandButton>
					</p:column>

					<p:column headerText="CV Aubay">
						<p:commandButton value="Download" ajax="false"
							onclick="PrimeFaces.monitorDownload(start, stop);"
							icon="ui-icon-arrowthick-1-s">
							<p:fileDownload value="" />
						</p:commandButton>
					</p:column>


					<p:column headerText="Comentario">
						<p:inputTextarea cols="20" />
					</p:column>

					<p:column style="width:32px">
						<p:rowEditor />
					</p:column>

					<p:column style="width:32px">
						<span class="ui-icon ui-icon-trash" />
					</p:column>

					<!-- LISTA DE CANDIDATOS -->



					<p:commandButton value="Distribuir" action="index" />
					<p:commandButton value="Confirmar" />
				</p:dataTable>
			</p:tab>

		</p:tabView>
		
		<p:commandButton value="Voltar" action="index?faces-redirect=true" />

	</h:form>
</h:body>
</html>
